@layout RootLayout
@inherits LayoutComponentBase
<PageTitle>@ApplicationTitle</PageTitle>

<Layout Sider>
    <LayoutSider>
        <LayoutSiderContent>
            <Bar @ref="@_sideBar"
                 Mode="BarMode.VerticalInline"
                 Background="Background.Dark"
                 ThemeContrast="ThemeContrast.Dark"
                 CollapseMode="BarCollapseMode.Hide"
                 Breakpoint="Breakpoint.Desktop"
                 NavigationBreakpoint="Breakpoint.Tablet"
                 TextOverflow="TextOverflow.Truncate"
                 Shadow="Shadow.Default"
                 Border="Border.Is2.Light.OnEnd.RoundedEnd">
                <BarBrand Margin="Margin.Is2.FromEnd" Casing="CharacterCasing.Upper">
                    <BarItem>
                        <BarLink To="">
                            <BarIcon IconName="customIcon" Display="Display.InlineBlock" />
                        </BarLink>
                    </BarItem>
                </BarBrand>
                <BarMenu>
                    <BarStart>
                        <BarItem>
                            <BarLink To="">
                                <BarIcon IconName="IconName.Home" />
                                Home
                            </BarLink>
                        </BarItem>
                        <BarItem>
                            <BarLink To="/rules">
                                <BarIcon IconName="IconName.RulerHorizontal" />
                                Rules
                            </BarLink>
                        </BarItem>
                        <BarItem>
                            <BarLink To="/game-list">
                                <BarIcon IconName="IconName.Dice" />
                                Lobbies
                            </BarLink>
                        </BarItem>
                        <BarItem>
                            <BarLink To="/chatRoom">
                                <BarIcon IconName="@("bi bi-chat-dots")" TextColor="TextColor.Light" />
                                Chat Room
                            </BarLink>
                        </BarItem>
                    </BarStart>
                    <BarEnd />
                </BarMenu>
            </Bar>
        </LayoutSiderContent>
    </LayoutSider>
    <Layout>
        <LayoutHeader Fixed>
            <Bar @ref="@_topBar"
                 Breakpoint="Breakpoint.Desktop"
                 NavigationBreakpoint="Breakpoint.Tablet"
                 Background="Background.Dark"
                 ThemeContrast="ThemeContrast.Dark"
                 Shadow="Shadow.Default"
                 Border="Border.Is2.OnBottom.RoundedBottom.Light.OnBottom"
                 @bind-Visible="@_topBarVisible">
                <Container Fluid>
                    <BarToggler Bar="@_sideBar" Border="Border.Is0" />
                    <BarBrand>
                        <BarItem>
                            <BarLink To="" TextColor="TextColor.Light"
                                     Class="text-decoration-underline link-primary">
                                @ApplicationTitle
                            </BarLink>
                        </BarItem>
                    </BarBrand>
                    <BarMenu>
                        <BarStart />
                        <BarEnd Margin="Margin.Is2.FromEnd">
                            <BarItem>
                                <LoginDisplay />
                            </BarItem>
                        </BarEnd>
                    </BarMenu>
                </Container>
            </Bar>
        </LayoutHeader>
        <LayoutContent Padding="Padding.Is4.OnX">
            <LoadingIndicator FullScreen>
                @Body
            </LoadingIndicator>
        </LayoutContent>
        <LayoutFooter Padding="Padding.Is2.FromTop" Margin="Margin.Is3.FromTop" Fixed>
            <CrowFooter />
        </LayoutFooter>
    </Layout>
</Layout>
@code {
    RenderFragment customIcon =@<Image Source="../images/TheOmenDenWithCrow.svg" Text="The Omen Den Logo" Style="width:72px; height: 72px" />;
}